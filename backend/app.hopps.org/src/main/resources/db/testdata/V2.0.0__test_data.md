# Test Data Visualization

This document visualizes the test data structure defined in `testdata/testdata.yaml`.

> **Note:** Test data is now loaded via the `TestdataBootstrapper` service from YAML, not via Flyway SQL migrations.
> See `src/main/resources/testdata/testdata.yaml` for the actual data definitions.

## Organizations Overview

```mermaid
graph TD
    O2[Organization ID: 2<br/>Grünes Herz e.V.<br/>slug: gruenes-herz-ev]
    O3[Organization ID: 3<br/>Kältekrieger e.V.<br/>slug: kaeltekrieger]
    O4[Organization ID: 4<br/>Bühnefrei e.V.<br/>slug: buehnefrei-ev]

    O2 -.-> B2[Root Bommel: 2]
    O3 -.-> B11[Root Bommel: 11]
    O4 -.-> B23[Root Bommel: 23]
```

## Organization 1: Grünes Herz e.V. (ID: 2)

### Members
- ID 2: Emanuel Urban (emanuel_urban@domain.none)
- ID 3: Hartlieb Reuter (hartlieb-reuter@xyz.none)
- ID 4: Elgard Nicklas (elgard-nicklas@trashmail.none)
- ID 5: Gerald Geiger (gerald.geiger@company.none)
- ID 6: Jannick Cao (jannick.1923@net-mail.none)
- ID 7: Constance Wendling (constance.wendling@justmail.none)
- ID 8: Florenz Häfner (florenz-huefner@spam-mail.none)

### Bommel Hierarchy

```mermaid
graph TD
    B2[ID: 2<br/>Grünes Herz e.V.<br/>ROOT]
    B3[ID: 3<br/>Fundraising & Spenden]
    B4[ID: 4<br/>Bildungs-Projekte]
    B5[ID: 5<br/>Naturschutz-Projekte]
    B6[ID: 6<br/>Schulvorträge]
    B7[ID: 7<br/>Online Seminare]
    B8[ID: 8<br/>Vortrag 1]
    B9[ID: 9<br/>Vortrag 2]
    B10[ID: 10<br/>Schutz eines<br/>Feuchte-Gebietes]

    B2 --> B3
    B2 --> B4
    B2 --> B5
    B4 --> B6
    B4 --> B7
    B6 --> B8
    B6 --> B9
    B5 --> B10

    style B2 fill:#90EE90
```

## Organization 2: Kältekrieger e.V. (ID: 3)

### Members
- ID 9: Herlind Kutscher (h1978@company.none)
- ID 10: Annekathrin Feldhof (annekathrinfeldhoff@inter-mail.none)
- ID 11: Rosegunde Wilhelmy (rosegunde-19@anymail.none)
- ID 12: Eckhard Weirich (eckhardweirich@spam-mail.none)
- ID 13: Godo Beckers (g_2011@inter-mail.none)
- ID 14: Klothilde Püppel (klothilde1916@net-mail.none)

### Bommel Hierarchy

```mermaid
graph TD
    B11[ID: 11<br/>Kältekrieger e.V.<br/>ROOT]
    B12[ID: 12<br/>Verkauf]
    B13[ID: 13<br/>Öffentlicher Lauf]
    B14[ID: 14<br/>Mannschaften]
    B15[ID: 15<br/>Stadion]
    B16[ID: 16<br/>Kiosk]
    B17[ID: 17<br/>Shop]
    B18[ID: 18<br/>1. Liga]
    B19[ID: 19<br/>2. Liga]
    B20[ID: 20<br/>3. Liga]
    B21[ID: 21<br/>Jugend]
    B22[ID: 22<br/>Eis Pflege]

    B11 --> B12
    B11 --> B13
    B11 --> B14
    B11 --> B15
    B12 --> B16
    B12 --> B17
    B14 --> B18
    B14 --> B19
    B14 --> B20
    B14 --> B21
    B15 --> B22

    style B11 fill:#87CEEB
```

## Organization 3: Bühnefrei e.V. (ID: 4)

### Members
- ID 15: Samantha Adomeit (samantha1284@net-mail.none)
- ID 16: Margund Linner (m-linner@private.none)
- ID 17: Birgit Bork (b-bork@mymail.none)
- ID 18: Gunther Kalb (gkalb@quickmail.none)
- ID 19: Burckhard Schlicker (b-schlicker@trashmail.none)
- ID 20: Alix Raff (alix1980@validmail.none)
- ID 21: **Alice Musterfrau** (alice@example.test) ← Used in tests
- ID 22: **Jdoe Mustermann** (jdoe@example.test) ← Used in tests
- ID 23: **Bob Mustermann** (bob@example.test) ← Used in tests

### Bommel Hierarchy

```mermaid
graph TD
    B23[ID: 23<br/>Bühnefrei e.V.<br/>ROOT]
    B24[ID: 24<br/>Kiosk]
    B25[ID: 25<br/>Räumlichkeiten]
    B26[ID: 26<br/>Workshops]
    B27[ID: 27<br/>Projekte]
    B28[ID: 28<br/>Der kleine Lord]
    B29[ID: 29<br/>Das Hässliche Entlein]
    B30[ID: 30<br/>König der Löwen]

    B23 --> B24
    B23 --> B25
    B23 --> B26
    B23 --> B27
    B27 --> B28
    B27 --> B29
    B27 --> B30

    style B23 fill:#FFB6C1
```

## Complete Entity Relationship

```mermaid
erDiagram
    ORGANIZATION ||--o{ MEMBER : has
    ORGANIZATION ||--|| BOMMEL : "has root bommel"
    BOMMEL ||--o{ BOMMEL : "has children"
    BOMMEL }o--o| MEMBER : "has responsible member"

    ORGANIZATION {
        int id PK
        string slug
        string name
        string website
        string plz
        string city
        string street
        string number
        int rootBommel_id FK
    }

    MEMBER {
        int id PK
        string email
        string firstName
        string lastName
    }

    BOMMEL {
        int id PK
        int parent_id FK
        string name
        string emoji
        int responsibleMember_id FK
    }
```

## Key Test Users

| User | Email | Organization | Member ID | Common Use Case |
|------|-------|--------------|-----------|-----------------|
| Alice | alice@example.test | Bühnefrei e.V. | 21 | Primary test user in DocumentResourceTest |
| Jdoe | jdoe@example.test | Bühnefrei e.V. | 22 | Secondary test user |
| Bob | bob@example.test | Bühnefrei e.V. | 23 | OAuth test user in TransactionRecordResourceTest |

## Important Bommel IDs for Testing

| Bommel ID | Name | Organization | Type | Note |
|-----------|------|--------------|------|------|
| 2 | Grünes Herz e.V. | Grünes Herz e.V. | Root | First organization root |
| 11 | Kältekrieger e.V. | Kältekrieger e.V. | Root | Second organization root |
| 23 | Bühnefrei e.V. | Bühnefrei e.V. | Root | Test user organization root (alice@example.test) |
| 24 | Kiosk | Bühnefrei e.V. | Child | Direct child of root |
| 30 | König der Löwen | Bühnefrei e.V. | Leaf | Referenced in DocumentResourceTest:107 |

## Sequence Values

After data initialization, sequences are set to:
- `Bommel_SEQ`: 30
- `Organization_SEQ`: 4
- `Member_SEQ`: 20

Next IDs will be 31, 5, and 21 respectively.
