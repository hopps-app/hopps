{#include main.html}
{#title}Dashboard - Hopps Buchhaltung{/title}

{#moreStyles}
<style>
  /* Dashboard Grid */
  .dashboard-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: var(--cds-spacing-05);
    margin-bottom: var(--cds-spacing-07);
  }
  @media (max-width: 1200px) {
    .dashboard-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }
  @media (max-width: 600px) {
    .dashboard-grid {
      grid-template-columns: 1fr;
    }
  }

  /* Stat Tiles */
  .stat-tile {
    background: var(--cds-layer-02);
    border: 1px solid var(--cds-border-subtle-01);
    border-radius: 4px;
    padding: var(--cds-spacing-05);
    position: relative;
    overflow: hidden;
  }
  .stat-tile::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
  }
  .stat-tile.blue::before { background: #0f62fe; }
  .stat-tile.green::before { background: #24a148; }
  .stat-tile.red::before { background: #da1e28; }
  .stat-tile.purple::before { background: #8a3ffc; }
  .stat-tile-label {
    font-size: 0.875rem;
    color: var(--cds-text-secondary);
    margin-bottom: 0.5rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
  }
  .stat-tile-value {
    font-size: 2.5rem;
    font-weight: 300;
    color: var(--cds-text-primary);
    line-height: 1;
  }
  .stat-tile-trend {
    font-size: 0.75rem;
    margin-top: 0.5rem;
    display: flex;
    align-items: center;
    gap: 0.25rem;
  }
  .stat-tile-trend.up { color: #24a148; }
  .stat-tile-trend.down { color: #da1e28; }
  .stat-tile-trend svg {
    width: 12px;
    height: 12px;
    fill: currentColor;
  }

  /* Charts Row */
  .charts-row {
    display: grid;
    grid-template-columns: 1fr 2fr;
    gap: var(--cds-spacing-05);
    margin-bottom: var(--cds-spacing-07);
  }
  @media (max-width: 900px) {
    .charts-row {
      grid-template-columns: 1fr;
    }
  }

  /* Chart Box */
  .chart-box {
    background: var(--cds-layer-02);
    border: 1px solid var(--cds-border-subtle-01);
    border-radius: 4px;
    padding: var(--cds-spacing-05);
  }
  .chart-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: var(--cds-spacing-05);
    padding-bottom: var(--cds-spacing-05);
    border-bottom: 1px solid var(--cds-border-subtle-01);
  }
  .chart-title {
    font-size: 1rem;
    font-weight: 600;
    margin: 0;
    display: flex;
    align-items: center;
    gap: 0.5rem;
  }
  .chart-subtitle {
    font-size: 0.75rem;
    color: var(--cds-text-secondary);
  }

  /* Donut Chart (CSS) */
  .donut-chart {
    position: relative;
    width: 180px;
    height: 180px;
    margin: 0 auto;
  }
  .donut-chart svg {
    width: 100%;
    height: 100%;
    transform: rotate(-90deg);
  }
  .donut-chart circle {
    fill: none;
    stroke-width: 24;
  }
  .donut-center {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    text-align: center;
  }
  .donut-center-value {
    font-size: 1.75rem;
    font-weight: 600;
    color: var(--cds-text-primary);
  }
  .donut-center-label {
    font-size: 0.75rem;
    color: var(--cds-text-secondary);
  }
  .donut-legend {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
    margin-top: var(--cds-spacing-05);
  }
  .donut-legend-item {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 0.875rem;
  }
  .donut-legend-color {
    width: 12px;
    height: 12px;
    border-radius: 2px;
  }
  .donut-legend-value {
    margin-left: auto;
    font-weight: 500;
  }

  /* Bar Chart (CSS) */
  .bar-chart {
    display: flex;
    align-items: flex-end;
    gap: 0.75rem;
    height: 200px;
    padding-top: 1rem;
  }
  .bar-group {
    flex: 1;
    display: flex;
    flex-direction: column;
    align-items: center;
  }
  .bar-wrapper {
    display: flex;
    align-items: flex-end;
    gap: 4px;
    height: 180px;
    width: 100%;
    justify-content: center;
  }
  .bar {
    width: 20px;
    border-radius: 2px 2px 0 0;
    transition: height 0.3s ease;
  }
  .bar.income { background: #24a148; }
  .bar.expense { background: #da1e28; }
  .bar-label {
    font-size: 0.75rem;
    color: var(--cds-text-secondary);
    margin-top: 0.5rem;
  }
  .bar-chart-legend {
    display: flex;
    gap: 1.5rem;
    justify-content: center;
    margin-top: var(--cds-spacing-05);
    padding-top: var(--cds-spacing-05);
    border-top: 1px solid var(--cds-border-subtle-01);
  }
  .bar-legend-item {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 0.875rem;
  }
  .bar-legend-color {
    width: 12px;
    height: 12px;
    border-radius: 2px;
  }

  /* Tasks Section */
  .tasks-section {
    background: var(--cds-layer-02);
    border: 1px solid var(--cds-border-subtle-01);
    border-radius: 4px;
    padding: var(--cds-spacing-05);
  }
  .tasks-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: var(--cds-spacing-05);
    padding-bottom: var(--cds-spacing-05);
    border-bottom: 1px solid var(--cds-border-subtle-01);
  }
  .tasks-title {
    font-size: 1rem;
    font-weight: 600;
    margin: 0;
    display: flex;
    align-items: center;
    gap: 0.5rem;
  }
  .task-list {
    list-style: none;
    margin: 0;
    padding: 0;
  }
  .task-item {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 0.75rem 0;
    border-bottom: 1px solid var(--cds-border-subtle-01);
  }
  .task-item:last-child {
    border-bottom: none;
  }
  .task-checkbox {
    width: 18px;
    height: 18px;
    border: 2px solid #8d8d8d;
    border-radius: 2px;
    flex-shrink: 0;
  }
  .task-content {
    flex: 1;
  }
  .task-title {
    font-size: 0.875rem;
    color: var(--cds-text-primary);
  }
  .task-meta {
    font-size: 0.75rem;
    color: var(--cds-text-secondary);
    margin-top: 0.25rem;
  }
  .task-priority {
    display: inline-block;
    padding: 0.125rem 0.5rem;
    font-size: 0.75rem;
    border-radius: 2px;
    font-weight: 500;
  }
  .task-priority.high {
    background: #fff1f1;
    color: #da1e28;
  }
  .task-priority.medium {
    background: #fff8e1;
    color: #f1c21b;
  }
  .task-priority.low {
    background: #defbe6;
    color: #24a148;
  }

  /* Bald Tag */
  .bald-tag {
    display: inline-flex;
    align-items: center;
    gap: 0.25rem;
    padding: 0.25rem 0.5rem;
    background: linear-gradient(135deg, #8a3ffc 0%, #a56eff 100%);
    color: white;
    font-size: 0.625rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    border-radius: 2px;
  }
  .bald-tag svg {
    width: 10px;
    height: 10px;
    fill: currentColor;
  }

  /* Empty State Overlay */
  .mock-overlay {
    position: relative;
  }
  .mock-badge {
    position: absolute;
    top: 0.5rem;
    right: 0.5rem;
    background: rgba(0,0,0,0.6);
    color: white;
    font-size: 0.625rem;
    padding: 0.25rem 0.5rem;
    border-radius: 2px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
  }
</style>
{/moreStyles}

<div class="page-header">
  <h1>Dashboard</h1>
  <span class="bald-tag">
    <svg viewBox="0 0 32 32"><path d="M16 2a14 14 0 1 0 14 14A14 14 0 0 0 16 2Zm0 26a12 12 0 1 1 12-12 12 12 0 0 1-12 12Z"/><path d="M16 8a1.5 1.5 0 1 0 1.5 1.5A1.5 1.5 0 0 0 16 8ZM16 13a1 1 0 0 0-1 1v8a1 1 0 0 0 2 0v-8a1 1 0 0 0-1-1Z"/></svg>
    Bald verfügbar
  </span>
</div>

<!-- Summary Tiles -->
<div class="dashboard-grid">
  <div class="stat-tile blue mock-overlay">
    <span class="mock-badge">Mock</span>
    <div class="stat-tile-label">
      <svg viewBox="0 0 32 32" width="16" height="16" fill="currentColor"><path d="M25.7 9.3l-7-7A.91.91 0 0 0 18 2H8a2 2 0 0 0-2 2v24a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V10a.91.91 0 0 0-.3-.7ZM18 4.4l5.6 5.6H18ZM24 28H8V4h8v6a2 2 0 0 0 2 2h6Z"/></svg>
      Belege diesen Monat
    </div>
    <div class="stat-tile-value">24</div>
    <div class="stat-tile-trend up">
      <svg viewBox="0 0 32 32"><path d="M16 4l-8 8 1.4 1.4L15 7.8V28h2V7.8l5.6 5.6L24 12z"/></svg>
      +12% zum Vormonat
    </div>
  </div>

  <div class="stat-tile green mock-overlay">
    <span class="mock-badge">Mock</span>
    <div class="stat-tile-label">
      <svg viewBox="0 0 32 32" width="16" height="16" fill="currentColor"><path d="M2 28h28v2H2zM25 18l1.41 1.41L21 24.83l-6-6-9.41 9.41L4.17 26.83 15 16l6 6 4-4.17L25 18z"/></svg>
      Einnahmen
    </div>
    <div class="stat-tile-value">12.450 €</div>
    <div class="stat-tile-trend up">
      <svg viewBox="0 0 32 32"><path d="M16 4l-8 8 1.4 1.4L15 7.8V28h2V7.8l5.6 5.6L24 12z"/></svg>
      +8% zum Vormonat
    </div>
  </div>

  <div class="stat-tile red mock-overlay">
    <span class="mock-badge">Mock</span>
    <div class="stat-tile-label">
      <svg viewBox="0 0 32 32" width="16" height="16" fill="currentColor"><path d="M2 28h28v2H2zM25 24l1.41-1.41L21 17.17l-6 6-9.41-9.41L4.17 15.17 15 26l6-6 4 4.17L25 24z"/></svg>
      Ausgaben
    </div>
    <div class="stat-tile-value">8.320 €</div>
    <div class="stat-tile-trend down">
      <svg viewBox="0 0 32 32"><path d="M16 28l8-8-1.4-1.4L17 24.2V4h-2v20.2l-5.6-5.6L8 20z"/></svg>
      -3% zum Vormonat
    </div>
  </div>

  <div class="stat-tile purple mock-overlay">
    <span class="mock-badge">Mock</span>
    <div class="stat-tile-label">
      <svg viewBox="0 0 32 32" width="16" height="16" fill="currentColor"><path d="M10.5 16a5.5 5.5 0 1 0-5.5-5.5A5.5 5.5 0 0 0 10.5 16Zm0-9a3.5 3.5 0 1 1-3.5 3.5A3.5 3.5 0 0 1 10.5 7ZM10.5 18a9.51 9.51 0 0 0-9.5 9.5 1 1 0 0 0 2 0 7.5 7.5 0 0 1 15 0 1 1 0 0 0 2 0 9.51 9.51 0 0 0-9.5-9.5ZM27 5h-3V2h-2v3h-3v2h3v3h2V7h3z"/></svg>
      Offene Aufgaben
    </div>
    <div class="stat-tile-value">7</div>
    <div class="stat-tile-trend">
      <span style="color: var(--cds-text-secondary);">3 mit hoher Priorität</span>
    </div>
  </div>
</div>

<!-- Charts Row -->
<div class="charts-row">
  <!-- Donut Chart -->
  <div class="chart-box mock-overlay">
    <span class="mock-badge">Mock</span>
    <div class="chart-header">
      <div>
        <h3 class="chart-title">
          <svg viewBox="0 0 32 32" width="18" height="18" fill="currentColor"><path d="M16 2a14 14 0 1 0 14 14A14 14 0 0 0 16 2Zm0 26a12 12 0 0 1 0-24Z"/></svg>
          Belegtypen
        </h3>
        <span class="chart-subtitle">Verteilung nach Typ</span>
      </div>
    </div>
    <div class="donut-chart">
      <svg viewBox="0 0 100 100">
        <circle cx="50" cy="50" r="38" stroke="#e0e0e0" />
        <circle cx="50" cy="50" r="38" stroke="#0f62fe" stroke-dasharray="143.26 238.76" stroke-dashoffset="0" />
        <circle cx="50" cy="50" r="38" stroke="#24a148" stroke-dasharray="71.63 238.76" stroke-dashoffset="-143.26" />
        <circle cx="50" cy="50" r="38" stroke="#f1c21b" stroke-dasharray="23.88 238.76" stroke-dashoffset="-214.89" />
      </svg>
      <div class="donut-center">
        <div class="donut-center-value">24</div>
        <div class="donut-center-label">Gesamt</div>
      </div>
    </div>
    <div class="donut-legend">
      <div class="donut-legend-item">
        <span class="donut-legend-color" style="background: #0f62fe;"></span>
        <span>Rechnungen</span>
        <span class="donut-legend-value">14</span>
      </div>
      <div class="donut-legend-item">
        <span class="donut-legend-color" style="background: #24a148;"></span>
        <span>Quittungen</span>
        <span class="donut-legend-value">7</span>
      </div>
      <div class="donut-legend-item">
        <span class="donut-legend-color" style="background: #f1c21b;"></span>
        <span>Sonstige</span>
        <span class="donut-legend-value">3</span>
      </div>
    </div>
  </div>

  <!-- Bar Chart -->
  <div class="chart-box mock-overlay">
    <span class="mock-badge">Mock</span>
    <div class="chart-header">
      <div>
        <h3 class="chart-title">
          <svg viewBox="0 0 32 32" width="18" height="18" fill="currentColor"><path d="M27 28V6h-8v22h-4V14H7v14H4V2H2v26a2 2 0 0 0 2 2h26v-2Zm-14 0H9V16h4Zm12 0h-4V8h4Z"/></svg>
          Einnahmen vs. Ausgaben
        </h3>
        <span class="chart-subtitle">Letzte 6 Monate</span>
      </div>
    </div>
    <div class="bar-chart">
      <div class="bar-group">
        <div class="bar-wrapper">
          <div class="bar income" style="height: 60%;"></div>
          <div class="bar expense" style="height: 45%;"></div>
        </div>
        <span class="bar-label">Jul</span>
      </div>
      <div class="bar-group">
        <div class="bar-wrapper">
          <div class="bar income" style="height: 75%;"></div>
          <div class="bar expense" style="height: 50%;"></div>
        </div>
        <span class="bar-label">Aug</span>
      </div>
      <div class="bar-group">
        <div class="bar-wrapper">
          <div class="bar income" style="height: 55%;"></div>
          <div class="bar expense" style="height: 65%;"></div>
        </div>
        <span class="bar-label">Sep</span>
      </div>
      <div class="bar-group">
        <div class="bar-wrapper">
          <div class="bar income" style="height: 80%;"></div>
          <div class="bar expense" style="height: 40%;"></div>
        </div>
        <span class="bar-label">Okt</span>
      </div>
      <div class="bar-group">
        <div class="bar-wrapper">
          <div class="bar income" style="height: 90%;"></div>
          <div class="bar expense" style="height: 55%;"></div>
        </div>
        <span class="bar-label">Nov</span>
      </div>
      <div class="bar-group">
        <div class="bar-wrapper">
          <div class="bar income" style="height: 100%;"></div>
          <div class="bar expense" style="height: 65%;"></div>
        </div>
        <span class="bar-label">Dez</span>
      </div>
    </div>
    <div class="bar-chart-legend">
      <div class="bar-legend-item">
        <span class="bar-legend-color" style="background: #24a148;"></span>
        <span>Einnahmen</span>
      </div>
      <div class="bar-legend-item">
        <span class="bar-legend-color" style="background: #da1e28;"></span>
        <span>Ausgaben</span>
      </div>
    </div>
  </div>
</div>

<!-- Meine Aufgaben Section -->
<div class="tasks-section mock-overlay">
  <span class="mock-badge">Mock</span>
  <div class="tasks-header">
    <h3 class="tasks-title">
      <svg viewBox="0 0 32 32" width="18" height="18" fill="currentColor"><path d="M14 21.414l-5-5.001L10.413 15 14 18.586 21.585 11 23 12.415l-9 8.999z"/><path d="M16 2a14 14 0 1 0 14 14A14 14 0 0 0 16 2Zm0 26a12 12 0 1 1 12-12 12 12 0 0 1-12 12Z"/></svg>
      Meine Aufgaben
      <span class="bald-tag">
        <svg viewBox="0 0 32 32"><path d="M16 2a14 14 0 1 0 14 14A14 14 0 0 0 16 2Zm0 26a12 12 0 1 1 12-12 12 12 0 0 1-12 12Z"/><path d="M16 8a1.5 1.5 0 1 0 1.5 1.5A1.5 1.5 0 0 0 16 8ZM16 13a1 1 0 0 0-1 1v8a1 1 0 0 0 2 0v-8a1 1 0 0 0-1-1Z"/></svg>
        Bald
      </span>
    </h3>
    <a href="#" class="cds-btn cds-btn-secondary" style="height: 32px; font-size: 0.75rem;">Alle anzeigen</a>
  </div>
  <ul class="task-list">
    <li class="task-item">
      <div class="task-checkbox"></div>
      <div class="task-content">
        <div class="task-title">Rechnung #2024-089 prüfen und freigeben</div>
        <div class="task-meta">Fällig: Heute • Lieferant GmbH</div>
      </div>
      <span class="task-priority high">Hoch</span>
    </li>
    <li class="task-item">
      <div class="task-checkbox"></div>
      <div class="task-content">
        <div class="task-title">Fehlende Belege für November nachreichen</div>
        <div class="task-meta">Fällig: 27. Dez 2024</div>
      </div>
      <span class="task-priority high">Hoch</span>
    </li>
    <li class="task-item">
      <div class="task-checkbox"></div>
      <div class="task-content">
        <div class="task-title">Monatliche Ausgabenübersicht erstellen</div>
        <div class="task-meta">Fällig: 31. Dez 2024</div>
      </div>
      <span class="task-priority medium">Mittel</span>
    </li>
    <li class="task-item">
      <div class="task-checkbox"></div>
      <div class="task-content">
        <div class="task-title">Bommel "Büromaterial" Belege zuordnen</div>
        <div class="task-meta">Fällig: 02. Jan 2025 • 5 Belege</div>
      </div>
      <span class="task-priority low">Niedrig</span>
    </li>
    <li class="task-item">
      <div class="task-checkbox"></div>
      <div class="task-content">
        <div class="task-title">Jahresabschluss vorbereiten</div>
        <div class="task-meta">Fällig: 15. Jan 2025</div>
      </div>
      <span class="task-priority high">Hoch</span>
    </li>
  </ul>
</div>

{/include}
